!function(){var G,z,F,B,n=this,K=function(h){var g=J["$"+h]||window[h];if(!g)throw Error("Ender Error: Requested module '"+h+"' has not been defined.");return g},L=function(h,g){return J["$"+h]=g},A=function(h,g){var e,t;this.selector=h;"undefined"==typeof h?(e=[],this.selector=""):e="string"==typeof h||h.nodeName||h.length&&"item"in h||h==window?v._select(h,g):isFinite(h.length)?h:[h];for(t=this.length=e.length;t--;)this[t]=e[t]},v=function(h,g){return new A(h,g)};n.global=n;var J={},Q=n.$,R=n.ender,
S=n.require,T=n.provide;n.provide=L;n.require=K;A.prototype.forEach=function(h,g){var e,t;e=0;for(t=this.length;e<t;++e)e in this&&h.call(g||this[e],this[e],e,this);return this};A.prototype.$=v;v._VERSION="0.4.3-dev";v.fn=A.prototype;v.ender=function(h,g){var e=g?A.prototype:v,t;for(t in h)"noConflict"!=t&&"_VERSION"!=t&&(e[t]=h[t])};v._select=function(h,g){return"string"==typeof h?(g||document).querySelectorAll(h):h.nodeName?[h]:h};v.noConflict=function(h){n.$=Q;h&&(n.provide=T,n.require=S,n.ender=
R,"function"==typeof h&&h(K,L,this));return this};"undefined"!==typeof module&&module.exports&&(module.exports=v);n.ender=n.$=v;G=this.require;z=this.provide;B=F=this.ender;var H={exports:{}};!function(h,g){"undefined"!=typeof H?H.exports=g():"function"==typeof define&&"object"==typeof define.amd?define(g):this[h]=g()}("domready",function(h){function g(g){for(q=1;g=e.shift();)g()}var e=[],t,i=document,k=i.documentElement,l=k.doScroll,q=/^loade|c/.test(i.readyState);i.addEventListener&&i.addEventListener("DOMContentLoaded",
t=function(){i.removeEventListener("DOMContentLoaded",t,!1);g()},!1);l&&i.attachEvent("onreadystatechange",t=function(){/^c/.test(i.readyState)&&(i.detachEvent("onreadystatechange",t),g())});return h=l?function(g){if(self!=top)q?g():e.push(g);else a:{try{k.doScroll("left")}catch(i){setTimeout(function(){h(g)},50);break a}g()}}:function(g){q?g():e.push(g)}});"function"==typeof z&&z("domready",H.exports);var N=G("domready");B.ender({domReady:N});B.ender({ready:function(h){N(h);return this}},!0);!0;
(function(){var h={exports:{}},g=h.exports;(function(){var e=this,t=e._,i={},k=Array.prototype,l=Object.prototype,q=k.push,p=k.slice,n=k.concat,w=l.toString,u=l.hasOwnProperty,x=k.forEach,s=k.map,E=k.reduce,O=k.reduceRight,P=k.filter,C=k.every,y=k.some,a=k.indexOf,b=k.lastIndexOf,l=Array.isArray,f=Object.keys,j=Function.prototype.bind,c=function(d){if(d instanceof c)return d;if(!(this instanceof c))return new c(d);this._wrapped=d};"undefined"!==typeof g?("undefined"!==typeof h&&h.exports&&(g=h.exports=
c),g._=c):e._=c;c.VERSION="1.4.3";var r=c.each=c.forEach=function(d,a,m){if(null!=d)if(x&&d.forEach===x)d.forEach(a,m);else if(d.length===+d.length)for(var b=0,D=d.length;b<D&&a.call(m,d[b],b,d)!==i;b++);else for(b in d)if(c.has(d,b)&&a.call(m,d[b],b,d)===i)break};c.map=c.collect=function(d,a,c){var b=[];if(null==d)return b;if(s&&d.map===s)return d.map(a,c);r(d,function(d,V,f){b[b.length]=a.call(c,d,V,f)});return b};c.reduce=c.foldl=c.inject=function(d,a,m,b){var D=2<arguments.length;null==d&&(d=
[]);if(E&&d.reduce===E)return b&&(a=c.bind(a,b)),D?d.reduce(a,m):d.reduce(a);r(d,function(d,c,f){D?m=a.call(b,m,d,c,f):(m=d,D=!0)});if(!D)throw new TypeError("Reduce of empty array with no initial value");return m};c.reduceRight=c.foldr=function(d,a,m,b){var D=2<arguments.length;null==d&&(d=[]);if(O&&d.reduceRight===O)return b&&(a=c.bind(a,b)),D?d.reduceRight(a,m):d.reduceRight(a);var f=d.length;if(f!==+f)var e=c.keys(d),f=e.length;r(d,function(c,j,g){j=e?e[--f]:--f;D?m=a.call(b,m,d[j],j,g):(m=d[j],
D=!0)});if(!D)throw new TypeError("Reduce of empty array with no initial value");return m};c.find=c.detect=function(d,a,c){var b;v(d,function(d,f,e){if(a.call(c,d,f,e))return b=d,!0});return b};c.filter=c.select=function(d,a,c){var b=[];if(null==d)return b;if(P&&d.filter===P)return d.filter(a,c);r(d,function(d,f,e){a.call(c,d,f,e)&&(b[b.length]=d)});return b};c.reject=function(d,a,m){return c.filter(d,function(d,c,b){return!a.call(m,d,c,b)},m)};c.every=c.all=function(d,a,m){a||(a=c.identity);var b=
!0;if(null==d)return b;if(C&&d.every===C)return d.every(a,m);r(d,function(d,c,f){if(!(b=b&&a.call(m,d,c,f)))return i});return!!b};var v=c.some=c.any=function(d,a,m){a||(a=c.identity);var b=!1;if(null==d)return b;if(y&&d.some===y)return d.some(a,m);r(d,function(d,c,f){if(b||(b=a.call(m,d,c,f)))return i});return!!b};c.contains=c.include=function(d,c){return null==d?!1:a&&d.indexOf===a?-1!=d.indexOf(c):v(d,function(d){return d===c})};c.invoke=function(d,a){var m=p.call(arguments,2);return c.map(d,function(d){return(c.isFunction(a)?
a:d[a]).apply(d,m)})};c.pluck=function(d,a){return c.map(d,function(d){return d[a]})};c.where=function(d,a){return c.isEmpty(a)?[]:c.filter(d,function(d){for(var c in a)if(a[c]!==d[c])return!1;return!0})};c.max=function(d,a,b){if(!a&&c.isArray(d)&&d[0]===+d[0]&&65535>d.length)return Math.max.apply(Math,d);if(!a&&c.isEmpty(d))return-Infinity;var f={computed:-Infinity,value:-Infinity};r(d,function(d,c,e){c=a?a.call(b,d,c,e):d;c>=f.computed&&(f={value:d,computed:c})});return f.value};c.min=function(d,
a,b){if(!a&&c.isArray(d)&&d[0]===+d[0]&&65535>d.length)return Math.min.apply(Math,d);if(!a&&c.isEmpty(d))return Infinity;var f={computed:Infinity,value:Infinity};r(d,function(d,c,e){c=a?a.call(b,d,c,e):d;c<f.computed&&(f={value:d,computed:c})});return f.value};c.shuffle=function(d){var a,b=0,f=[];r(d,function(d){a=c.random(b++);f[b-1]=f[a];f[a]=d});return f};var z=function(d){return c.isFunction(d)?d:function(a){return a[d]}};c.sortBy=function(d,a,b){var f=z(a);return c.pluck(c.map(d,function(d,a,
c){return{value:d,index:a,criteria:f.call(b,d,a,c)}}).sort(function(d,a){var c=d.criteria,b=a.criteria;if(c!==b){if(c>b||void 0===c)return 1;if(c<b||void 0===b)return-1}return d.index<a.index?-1:1}),"value")};var F=function(d,a,b,f){var e={},j=z(a||c.identity);r(d,function(a,c){var U=j.call(b,a,c,d);f(e,U,a)});return e};c.groupBy=function(d,a,b){return F(d,a,b,function(d,a,b){(c.has(d,a)?d[a]:d[a]=[]).push(b)})};c.countBy=function(d,a,b){return F(d,a,b,function(d,a){c.has(d,a)||(d[a]=0);d[a]++})};
c.sortedIndex=function(d,a,b,f){for(var b=null==b?c.identity:z(b),a=b.call(f,a),e=0,j=d.length;e<j;){var g=e+j>>>1;b.call(f,d[g])<a?e=g+1:j=g}return e};c.toArray=function(d){return!d?[]:c.isArray(d)?p.call(d):d.length===+d.length?c.map(d,c.identity):c.values(d)};c.size=function(d){return null==d?0:d.length===+d.length?d.length:c.keys(d).length};c.first=c.head=c.take=function(d,a,c){return null==d?void 0:null!=a&&!c?p.call(d,0,a):d[0]};c.initial=function(d,a,c){return p.call(d,0,d.length-(null==a||
c?1:a))};c.last=function(d,a,c){return null==d?void 0:null!=a&&!c?p.call(d,Math.max(d.length-a,0)):d[d.length-1]};c.rest=c.tail=c.drop=function(d,a,c){return p.call(d,null==a||c?1:a)};c.compact=function(d){return c.filter(d,c.identity)};var A=function(d,a,b){r(d,function(d){c.isArray(d)?a?q.apply(b,d):A(d,a,b):b.push(d)});return b};c.flatten=function(d,a){return A(d,a,[])};c.without=function(d){return c.difference(d,p.call(arguments,1))};c.uniq=c.unique=function(d,a,b,f){c.isFunction(a)&&(f=b,b=a,
a=!1);var b=b?c.map(d,b,f):d,e=[],j=[];r(b,function(b,m){if(a?!m||j[j.length-1]!==b:!c.contains(j,b))j.push(b),e.push(d[m])});return e};c.union=function(){return c.uniq(n.apply(k,arguments))};c.intersection=function(d){var a=p.call(arguments,1);return c.filter(c.uniq(d),function(d){return c.every(a,function(a){return 0<=c.indexOf(a,d)})})};c.difference=function(d){var a=n.apply(k,p.call(arguments,1));return c.filter(d,function(d){return!c.contains(a,d)})};c.zip=function(){for(var d=p.call(arguments),
a=c.max(c.pluck(d,"length")),b=Array(a),f=0;f<a;f++)b[f]=c.pluck(d,""+f);return b};c.object=function(d,a){if(null==d)return{};for(var c={},b=0,f=d.length;b<f;b++)a?c[d[b]]=a[b]:c[d[b][0]]=d[b][1];return c};c.indexOf=function(d,b,m){if(null==d)return-1;var f=0,e=d.length;if(m)if("number"==typeof m)f=0>m?Math.max(0,e+m):m;else return f=c.sortedIndex(d,b),d[f]===b?f:-1;if(a&&d.indexOf===a)return d.indexOf(b,m);for(;f<e;f++)if(d[f]===b)return f;return-1};c.lastIndexOf=function(d,a,c){if(null==d)return-1;
var f=null!=c;if(b&&d.lastIndexOf===b)return f?d.lastIndexOf(a,c):d.lastIndexOf(a);for(c=f?c:d.length;c--;)if(d[c]===a)return c;return-1};c.range=function(d,a,c){1>=arguments.length&&(a=d||0,d=0);for(var c=arguments[2]||1,b=Math.max(Math.ceil((a-d)/c),0),f=0,e=Array(b);f<b;)e[f++]=d,d+=c;return e};var B=function(){};c.bind=function(d,a){var b,f;if(d.bind===j&&j)return j.apply(d,p.call(arguments,1));if(!c.isFunction(d))throw new TypeError;b=p.call(arguments,2);return f=function(){if(!(this instanceof
f))return d.apply(a,b.concat(p.call(arguments)));B.prototype=d.prototype;var c=new B;B.prototype=null;var e=d.apply(c,b.concat(p.call(arguments)));return Object(e)===e?e:c}};c.bindAll=function(d){var a=p.call(arguments,1);0==a.length&&(a=c.functions(d));r(a,function(a){d[a]=c.bind(d[a],d)});return d};c.memoize=function(d,a){var b={};a||(a=c.identity);return function(){var f=a.apply(this,arguments);return c.has(b,f)?b[f]:b[f]=d.apply(this,arguments)}};c.delay=function(d,a){var c=p.call(arguments,2);
return setTimeout(function(){return d.apply(null,c)},a)};c.defer=function(d){return c.delay.apply(c,[d,1].concat(p.call(arguments,1)))};c.throttle=function(d,a){var c,b,f,e,j=0,g=function(){j=new Date;f=null;e=d.apply(c,b)};return function(){var h=new Date,i=a-(h-j);c=this;b=arguments;0>=i?(clearTimeout(f),f=null,j=h,e=d.apply(c,b)):f||(f=setTimeout(g,i));return e}};c.debounce=function(a,c,b){var f,e;return function(){var j=this,g=arguments,h=b&&!f;clearTimeout(f);f=setTimeout(function(){f=null;b||
(e=a.apply(j,g))},c);h&&(e=a.apply(j,g));return e}};c.once=function(a){var c=!1,b;return function(){if(c)return b;c=!0;b=a.apply(this,arguments);a=null;return b}};c.wrap=function(a,c){return function(){var b=[a];q.apply(b,arguments);return c.apply(this,b)}};c.compose=function(){var a=arguments;return function(){for(var c=arguments,b=a.length-1;0<=b;b--)c=[a[b].apply(this,c)];return c[0]}};c.after=function(a,c){return 0>=a?c():function(){if(1>--a)return c.apply(this,arguments)}};c.keys=f||function(a){if(a!==
Object(a))throw new TypeError("Invalid object");var b=[],f;for(f in a)c.has(a,f)&&(b[b.length]=f);return b};c.values=function(a){var b=[],f;for(f in a)c.has(a,f)&&b.push(a[f]);return b};c.pairs=function(a){var b=[],f;for(f in a)c.has(a,f)&&b.push([f,a[f]]);return b};c.invert=function(a){var b={},f;for(f in a)c.has(a,f)&&(b[a[f]]=f);return b};c.functions=c.methods=function(a){var b=[],f;for(f in a)c.isFunction(a[f])&&b.push(f);return b.sort()};c.extend=function(a){r(p.call(arguments,1),function(c){if(c)for(var b in c)a[b]=
c[b]});return a};c.pick=function(a){var c={},b=n.apply(k,p.call(arguments,1));r(b,function(b){b in a&&(c[b]=a[b])});return c};c.omit=function(a){var b={},f=n.apply(k,p.call(arguments,1)),e;for(e in a)c.contains(f,e)||(b[e]=a[e]);return b};c.defaults=function(a){r(p.call(arguments,1),function(c){if(c)for(var b in c)null==a[b]&&(a[b]=c[b])});return a};c.clone=function(a){return!c.isObject(a)?a:c.isArray(a)?a.slice():c.extend({},a)};c.tap=function(a,c){c(a);return a};var G=function(a,b,f,e){if(a===b)return 0!==
a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof c&&(a=a._wrapped);b instanceof c&&(b=b._wrapped);var j=w.call(a);if(j!=w.call(b))return!1;switch(j){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var g=
f.length;g--;)if(f[g]==a)return e[g]==b;f.push(a);e.push(b);var g=0,h=!0;if("[object Array]"==j){if(g=a.length,h=g==b.length)for(;g--&&(h=G(a[g],b[g],f,e)););}else{var j=a.constructor,i=b.constructor;if(j!==i&&(!c.isFunction(j)||!(j instanceof j&&c.isFunction(i)&&i instanceof i)))return!1;for(var r in a)if(c.has(a,r)&&(g++,!(h=c.has(b,r)&&G(a[r],b[r],f,e))))break;if(h){for(r in b)if(c.has(b,r)&&!g--)break;h=!g}}f.pop();e.pop();return h};c.isEqual=function(a,c){return G(a,c,[],[])};c.isEmpty=function(a){if(null==
a)return!0;if(c.isArray(a)||c.isString(a))return 0===a.length;for(var b in a)if(c.has(a,b))return!1;return!0};c.isElement=function(a){return!!(a&&1===a.nodeType)};c.isArray=l||function(a){return"[object Array]"==w.call(a)};c.isObject=function(a){return a===Object(a)};r("Arguments Function String Number Date RegExp".split(" "),function(a){c["is"+a]=function(c){return w.call(c)=="[object "+a+"]"}});c.isArguments(arguments)||(c.isArguments=function(a){return!(!a||!c.has(a,"callee"))});"function"!==typeof/./&&
(c.isFunction=function(a){return"function"===typeof a});c.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};c.isNaN=function(a){return c.isNumber(a)&&a!=+a};c.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==w.call(a)};c.isNull=function(a){return null===a};c.isUndefined=function(a){return void 0===a};c.has=function(a,c){return u.call(a,c)};c.noConflict=function(){e._=t;return this};c.identity=function(a){return a};c.times=function(a,c,b){for(var f=Array(a),e=0;e<a;e++)f[e]=
c.call(b,e);return f};c.random=function(a,c){null==c&&(c=a,a=0);return a+(0|Math.random()*(c-a+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};I.unescape=c.invert(I.escape);var H={escape:RegExp("["+c.keys(I.escape).join("")+"]","g"),unescape:RegExp("("+c.keys(I.unescape).join("|")+")","g")};c.each(["escape","unescape"],function(a){c[a]=function(c){return null==c?"":(""+c).replace(H[a],function(c){return I[a][c]})}});c.result=function(a,b){if(null==a)return null;
var f=a[b];return c.isFunction(f)?f.call(a):f};c.mixin=function(a){r(c.functions(a),function(b){var f=c[b]=a[b];c.prototype[b]=function(){var a=[this._wrapped];q.apply(a,arguments);a=f.apply(c,a);return this._chain?c(a).chain():a}})};var J=0;c.uniqueId=function(a){var c=""+ ++J;return a?a+c:c};c.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;
c.template=function(a,b,f){var f=c.defaults({},f,c.templateSettings),e=RegExp([(f.escape||M).source,(f.interpolate||M).source,(f.evaluate||M).source].join("|")+"|$","g"),j=0,g="__p+='";a.replace(e,function(c,b,f,e,h){g+=a.slice(j,h).replace(L,function(a){return"\\"+K[a]});b&&(g+="'+\n((__t=("+b+"))==null?'':_.escape(__t))+\n'");f&&(g+="'+\n((__t=("+f+"))==null?'':__t)+\n'");e&&(g+="';\n"+e+"\n__p+='");j=h+c.length;return c});g+="';\n";f.variable||(g="with(obj||{}){\n"+g+"}\n");g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+
g+"return __p;\n";try{var h=new Function(f.variable||"obj","_",g)}catch(i){throw i.source=g,i;}if(b)return h(b,c);b=function(a){return h.call(this,a,c)};b.source="function("+(f.variable||"obj")+"){\n"+g+"}";return b};c.chain=function(a){return c(a).chain()};c.mixin(c);r("pop push reverse shift sort splice unshift".split(" "),function(a){var b=k[a];c.prototype[a]=function(){var f=this._wrapped;b.apply(f,arguments);("shift"==a||"splice"==a)&&0===f.length&&delete f[0];return this._chain?c(f).chain():
f}});r(["concat","join","slice"],function(a){var b=k[a];c.prototype[a]=function(){var a=b.apply(this._wrapped,arguments);return this._chain?c(a).chain():a}});c.extend(c.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);"function"==typeof z&&z("underscore",h.exports);F.ender(h.exports)})();(function(){var h={};!function(g){function e(e){return 10>e?"0"+e:e}function h(e){l.lastIndex=0;return l.test(e)?'"'+e.replace(l,function(e){var g=n[e];
return"string"===typeof g?g:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function i(e,g){var s,k,l,n,C=q,y,a=g[e];a&&("object"===typeof a&&"function"===typeof a.toJSON)&&(a=a.toJSON(e));"function"===typeof w&&(a=w.call(g,e,a));switch(typeof a){case "string":return h(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);case "object":if(!a)return"null";q+=p;y=[];if("[object Array]"===Object.prototype.toString.apply(a)){n=a.length;
for(s=0;s<n;s+=1)y[s]=i(s,a)||"null";l=0===y.length?"[]":q?"[\n"+q+y.join(",\n"+q)+"\n"+C+"]":"["+y.join(",")+"]";q=C;return l}if(w&&"object"===typeof w){n=w.length;for(s=0;s<n;s+=1)"string"===typeof w[s]&&(k=w[s],(l=i(k,a))&&y.push(h(k)+(q?": ":":")+l))}else for(k in a)Object.prototype.hasOwnProperty.call(a,k)&&(l=i(k,a))&&y.push(h(k)+(q?": ":":")+l);l=0===y.length?"{}":q?"{\n"+q+y.join(",\n"+q)+"\n"+C+"}":"{"+y.join(",")+"}";q=C;return l}}if(!g.JSON){g.JSON=g={};"function"!==typeof Date.prototype.toJSON&&
(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var k=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
q,p,n={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},w;"function"!==typeof g.stringify&&(g.stringify=function(e,g,h){var k;p=q="";if("number"===typeof h)for(k=0;k<h;k+=1)p+=" ";else"string"===typeof h&&(p=h);if((w=g)&&"function"!==typeof g&&("object"!==typeof g||"number"!==typeof g.length))throw Error("JSON.stringify");return i("",{"":e})});"function"!==typeof g.parse&&(g.parse=function(e,g){function h(e,i){var k,l,a=e[i];if(a&&"object"===typeof a)for(k in a)Object.prototype.hasOwnProperty.call(a,
k)&&(l=h(a,k),void 0!==l?a[k]=l:delete a[k]);return g.call(e,i,a)}var i,e=String(e);k.lastIndex=0;k.test(e)&&(e=e.replace(k,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+e+")"),"function"===typeof g?h({"":i},""):i;throw new SyntaxError("JSON.parse");})}}(this);
"function"==typeof z&&z("ender-json",h);!B.ender({JSON:JSON})})();(function(){var h={},g=this,e=G("underscore"),n=F.JSON,i={Library:function(a,b){this._version="0.9.1";this._cb={};this.options=b||{};this.queue=new i.Queue(a,{execute:e.bind(this._execute,this)})}};e.extend(i.Library.prototype,{push:function(){var a=Array.prototype.slice.call(arguments);this.queue.executeAll(a)},setAccount:function(a,b){e.isString(a)&&e.isString(b)&&(this._inputId=a,this._token=b,this.cookie=new i.Cookie({name:a}))},
identify:function(a){e.isString(a)&&this.set({$uid:a})},set:function(a){this.cookie.set(a)},setOnce:function(a){this.cookie.setOnce(a)},unset:function(a){this.cookie.unset(a)},track:function(a,b,f){e.isString(a)&&a&&new i.Request({inputId:this._inputId,auth:this._token,uid:this.cookie.get("$uid"),event:e.extend({},this._getMetadata(),this.cookie.properties(),{$event_name:a},b),callback:f,callbackStore:this._cb})},trackPageview:function(a,b){e.isFunction(a)&&(b=a,a=void 0);e.isUndefined(a)&&(a=g.location.href);
this.track("$pageview",{$page:a},b)},trackClick:function(){this._trackDOMEvent(i.ClickTracker,arguments)},trackSubmit:function(){this._trackDOMEvent(i.SubmitTracker,arguments)},_trackDOMEvent:function(a,b){var f=i.utils.getElements(b[0]);e.each(f,function(f){new a({el:f,lib:this,eventName:b[1],props:b[2],callback:b[3]})},this)},_execute:function(a){var b=this[a[0]];e.isFunction(b)&&b.apply(this,a.slice(1))},_getMetadata:function(){return{$page_info:i.utils.pageInfo(),$lib_ver:this._version}}});i.Queue=
function(a,b){this.options=b||{};this.executeAll(a)};e.extend(i.Queue.prototype,{executeAll:function(a){var b,f=[],g=[];e.each(a,function(a){if(e.isArray(a)){var h=a[0];e.isString(h)&&(-1!=h.indexOf("setAccount")?b=a:-1!=h.indexOf("track")?g.push(a):f.push(a))}},this);b&&this.options.execute(b);e.each(f,this.options.execute);e.each(g,this.options.execute)}});i.Cookie=function(a){this.options=a||{};this.props={};this.name="bd_"+e.cookie.utils.escape(a.name);this.load();this.setOnce({$uid:this._generateUUID()})};
e.extend(i.Cookie.prototype,{_hiddenProps:["$uid"],load:function(){var a=e.cookie.get(this.name);a&&(this.props=e.extend({},n.parse(a)))},save:function(){e.cookie.set(this.name,n.stringify(this.props),{expires:this.options.expires||365,path:"/"})},properties:function(){return e.omit(this.props,this._hiddenProps)},get:function(a){return this.props[a]},setOnce:function(a){return this.set(a,{once:!0})},set:function(a,b){b=b||{};if(!e.isObject(a))return!1;e[b.once?"defaults":"extend"](this.props,a);this.save();
return!0},unset:function(a){if(!e(this.props).has(a))return!1;delete this.props[a];this.save();return!0},_generateUUID:function(){return[(+new Date).toString(16),e.UUID.v4()].join("-")}});i.Request=function(a){this.options=a||{};this.send()};e.extend(i.Request.prototype,{send:function(){"withCredentials"in new g.XMLHttpRequest?this._get():this._jsonpGet()},_get:function(a){var a=e.extend({},this.options,a),b=new g.XMLHttpRequest,f=this._buildGetUrl(a),j=this._callback;b.open("GET",f,!0);b.onreadystatechange=
function(){4===b.readyState&&j(b,a)};b.send()},_callback:function(a,b){var f=function(a){try{return n.parse(a)}catch(b){return 1}},j;j=a instanceof g.XMLHttpRequest?200===a.status?f(a.responseText):0:e.isString(j)?f(j):+!!a;e.isFunction(b.callback)&&b.callback.call(g,j,b.event)},_jsonpGet:function(a){a=e.extend({},this.options,a);a.jsonp=!0;var b=document.createElement("script");b.type="text/javascript";b.async=!0;b.defer=!0;b.src=this._buildGetUrl(a);a=document.getElementsByTagName("script")[0];
a.parentNode.insertBefore(b,a)},_buildGetUrl:function(a){var a=a||{},b=["https://events.bitdeli.com/events",a.inputId].join("/"),f={};a.auth&&(f.auth=a.auth);e.has(a,"uid")&&(f.uid=a.uid);a.event&&(f.event=n.stringify(a.event));a.jsonp&&e.isFunction(a.callback)&&(f.callback=this._storeCallback(a));f._=(new Date).getTime().toString();return b+"?"+this._serializeParams(f)},_base64Encode:function(a){return g.btoa(a).replace(/\+/g,"_").replace(/\//g,"-")},_serializeParams:function(a){a=a||{};return e.map(a,
function(a,f){return[encodeURIComponent(f),this._base64Encode(a)].join("=")},this).join("&")},_storeCallback:function(a){var b=a.callbackStore,f=""+Math.floor(1E8*Math.random()),e=this._callback;b[f]=function(c){delete b[f];e(c,a)};return'_bdq._cb["'+f+'"]'}});i.DOMEventTracker={domEvent:"click",initialize:function(a){e.bindAll(this,"_track","_getTrackCallback");this.lib=a.lib;e.isElement(a.el)&&(this.el=a.el,this.el.addEventListener(this.domEvent,this._track,!1))},_track:function(a){(this._defaultPrevented=
this.preventDefault(a))&&g.setTimeout(this._getTrackCallback(a,!0),300);this.lib.track(this.options.eventName,this._getProps(this.options),this._getTrackCallback(a))},_getTrackCallback:function(a,b){var b=b||!1,f=this.options,g=this;return function(c,h){g._callbackFired||(g._callbackFired=!0,b&&(c=0,h=g._getProps(f)),e.isFunction(f.callback)&&!1===f.callback.call(g.el,c,h,a,b)||g._defaultPrevented&&g.defaultAction())}},_getProps:function(a){var b=a.props;e.isFunction(a.props)&&(b=a.props.call(this.el,
this.el));return e.isObject(b)?e.clone(b):{}},preventDefault:function(a){a.preventDefault();return!0},defaultAction:function(){}};i.ClickTracker=function(a){this.options=a||{};this.initialize.apply(this,arguments);this.el&&e.isString(this.el.href)&&(this.href=this.el.href)};e.extend(i.ClickTracker.prototype,i.DOMEventTracker,{preventDefault:function(a){var b=a.ctrlKey||a.metaKey;return!(2==a.button||3==a.which)&&!(b||"_blank"==this.el.target)&&this.href?(a.preventDefault(),!0):!1},defaultAction:function(){if(e.isString(this.href)){var a=
this.href;e.defer(function(){g.location=a})}}});i.SubmitTracker=function(a){this.options=a||{};this.initialize.apply(this,arguments)};e.extend(i.SubmitTracker.prototype,i.DOMEventTracker,{domEvent:"submit",defaultAction:function(){var a=this.el;e.defer(function(){a.submit()})}});i.utils={pageInfo:function(){return i.utils.truncateData(i.utils.stripEmpty({url:g.location.href,ua:g.navigator.userAgent,referrer:g.document.referrer}),1023)},truncateData:function(a,b){var b=b||255,f,g=i.utils.truncateData;
e.isObject(a)?(f={},e.each(a,function(a,e){f[e]=g(a,b)})):f=e.isArray(a)?e.map(a,function(a){return g(a,b)}):e.isString(a)?a.slice(0,b):a;return f},stripEmpty:function(a){var b={};e.each(a,function(a,g){e.isString(a)&&0<a.length&&(b[g]=a)});return b},getElements:function(a){var b=[],f=i.utils.getElements,j=g.document;if(e.isArray(a))e.each(a,function(a){b.push.apply(b,f(a))},this);else if(e.isString(a)&&a.length){var c=a.charAt(0),a=a.substring(1);"."==c?b.push.apply(b,j.getElementsByClassName(a)):
"#"==c&&(j=j.getElementById(a))&&b.push(j)}else e.isElement(a)&&b.push(a);return b}};var k=document,l=function(){return l.get.apply(l,arguments)};l.utils=utils={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isPlainObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},toArray:function(a){return Array.prototype.slice.call(a)},getKeys:Object.keys||function(a){var b=[],f="";for(f in a)a.hasOwnProperty(f)&&b.push(f);return b},
escape:function(a){return String(a).replace(/[,;"\\=\s%]/g,function(a){return encodeURIComponent(a)})},retrieve:function(a,b){return null===a?b:a}};l.defaults={};l.expiresMultiplier=86400;l.set=function(a,b,f){if(utils.isPlainObject(a))for(var e in a)a.hasOwnProperty(e)&&this.set(e,a[e],b);else{f=utils.isPlainObject(f)?f:{expires:f};e=void 0!==f.expires?f.expires:this.defaults.expires||"";var c=typeof e;"string"===c&&""!==e?e=new Date(e):"number"===c&&(e=new Date(+new Date+1E3*this.expiresMultiplier*
e));""!==e&&"toGMTString"in e&&(e=";expires="+e.toGMTString());var c=f.path||this.defaults.path,g=f.domain||this.defaults.domain,f=f.secure||this.defaults.secure?";secure":"";k.cookie=utils.escape(a)+"="+utils.escape(b)+e+(c?";path="+c:"")+(g?";domain="+g:"")+f}return this};l.remove=function(a){for(var a=utils.isArray(a)?a:utils.toArray(arguments),b=0,f=a.length;b<f;b++)this.set(a[b],"",-1);return this};l.get=function(a,b){var b=b||void 0,f=this.all();if(utils.isArray(a)){for(var e={},c=0,g=a.length;c<
g;c++){var h=a[c];e[h]=utils.retrieve(f[h],b)}return e}return utils.retrieve(f[a],b)};l.all=function(){if(""===k.cookie)return{};for(var a=k.cookie.split("; "),b={},f=0,e=a.length;f<e;f++){var c=a[f].split("=");b[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return b};l.enabled=function(){if(navigator.cookieEnabled)return!0;var a="_"===l.set("_","_").get("_");l.remove("_");return a};e.cookie=l;var q;if(!q&&g.crypto&&crypto.getRandomValues){var p=new Uint8Array(16);q=function(){crypto.getRandomValues(p);
return p}}if(!q){var v=Array(16);q=function(){for(var a=0,b;16>a;a++)0===(a&3)&&(b=4294967296*Math.random()),v[a]=b>>>((a&3)<<3)&255;return v}}for(var w="function"==typeof Buffer?Buffer:Array,u=[],x=0;256>x;x++)u[x]=(x+256).toString(16).substr(1);e.UUID={v4:function(a,b,f){f=b&&f||0;"string"==typeof a&&(b="binary"==a?new w(16):null,a=null);a=a||{};a=a.random||(a.rng||q)();a[6]=a[6]&15|64;a[8]=a[8]&63|128;if(b)for(var e=0;16>e;e++)b[f+e]=a[e];b||(b=0,b=u[a[b++]]+u[a[b++]]+u[a[b++]]+u[a[b++]]+"-"+u[a[b++]]+
u[a[b++]]+"-"+u[a[b++]]+u[a[b++]]+"-"+u[a[b++]]+u[a[b++]]+"-"+u[a[b++]]+u[a[b++]]+u[a[b++]]+u[a[b++]]+u[a[b++]]+u[a[b++]]);return b}};var s=g.document;s.getElementsByClassName||(s.getElementsByClassName=function(a){var b,f,e=[];if(s.querySelectorAll)return s.querySelectorAll("."+a);if(s.evaluate)for(b=s.evaluate(".//*[contains(concat(' ', @class, ' '), ' "+a+" ')]",s,null,0,null);f=b.iterateNext();)e.push(f);else{b=s.getElementsByTagName("*");a=RegExp("(^|\\s)"+a+"(\\s|$)");for(f=0;f<b.length;f++)a.test(b[f].className)&&
e.push(b[f])}return e});var E=g.document,x=function(a){var b=E[a];E[a]=function(a){return A(b(a))}},B=function(a,b,f){return(f=this).attachEvent("on"+a,function(a){a=a||g.event;a.preventDefault=a.preventDefault||function(){a.returnValue=!1};a.stopPropagation=a.stopPropagation||function(){a.cancelBubble=!0};b.call(f,a)})},A=function(a,b){if(b=a.length)for(;b--;)a[b].addEventListener=B;else a.addEventListener=B;return a};g.addEventListener||(A([E,g]),"Element"in g?g.Element.prototype.addEventListener=
B:(E.attachEvent("onreadystatechange",function(){A(E.all)}),x("getElementsByTagName"),x("getElementById"),x("createElement"),A(E.all)));var x="undefined"!=typeof g?g:h,C;a:{try{document.createElement("$")}catch(y){C=y;break a}C=void 0}x.btoa||(x.btoa=function(a){for(var b,f,e=0,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g="";a.charAt(e|0)||(c="=",e%1);g+=c.charAt(63&b>>8-8*(e%1))){f=a.charCodeAt(e+=0.75);if(255<f)throw C;b=b<<8|f}return g});x.atob||(x.atob=function(a){a=
a.replace(/=+$/,"");if(1==a.length%4)throw C;for(var b=0,f,e,c=0,g="";e=a.charAt(c++);~e&&(f=b%4?64*f+e:e,b++%4)?g+=String.fromCharCode(255&f>>(-2*b&6)):0)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e);return g});F.domReady(function(){g._bdq=new i.Library(g._bdq)});"function"==typeof z&&z("bitdeli-tracking-js",h);F.ender(h)})()}.call({});
